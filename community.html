<!DOCTYPE html>
<html lang="bn" x-data="socialApp()" x-init="fetchPosts()">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>আল-হেরা স্টুডেন্ট নেটওয়ার্ক</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script defer src="https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js"></script>
  <link href="https://fonts.googleapis.com/css2?family=Hind+Siliguri:wght@400;500;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
  <style>
    body {
      font-family: 'Hind Siliguri', sans-serif;
    }
    
    .post-card {
      transition: all 0.3s ease;
    }
    
    .post-card:hover {
      transform: translateY(-3px);
      box-shadow: 0 10px 20px rgba(0, 0, 0, 0.1);
    }
    
    .active-tab {
      border-bottom: 3px solid #059669;
      font-weight: 600;
      color: #065f46;
    }
  </style>
</head>

<body class="bg-gray-100 pb-14 md:pb-0">
  <!-- হেডার -->
  <header class="bg-green-800 text-white shadow-lg">
    <div class="container mx-auto px-4 py-3 flex justify-between items-center">
      <div class="flex items-center space-x-2">
        <img src="./images/logo.jpg" alt="লোগো" class="h-10 rounded-full">
        <h1 class="text-lg font-bold">আল-হেরা স্টুডেন্ট নেটওয়ার্ক</h1>
      </div>
      <div class="flex items-center space-x-4">
        <button @click="notificationsOpen = !notificationsOpen" class="relative">
          <i class="far fa-bell text-xl"></i>
          <span x-show="unreadNotifications > 0" x-text="unreadNotifications" class="absolute -top-2 -right-2 bg-red-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center"></span>
        </button>
        <div class="relative" x-data="{ open: false }">
          <button @click="open = !open" class="flex items-center space-x-1">
            <img :src="currentUser.avatar" alt="প্রোফাইল" class="h-8 w-8 rounded-full">
            <span x-text="currentUser.name" class="hidden md:inline"></span>
            <i class="fas fa-chevron-down text-xs"></i>
          </button>
          <div x-show="open" @click.outside="open = false" class="absolute right-0 mt-2 w-48 bg-white rounded-md shadow-lg py-1 z-50">
            <a href="#" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100">প্রোফাইল</a>
            <a href="#" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100">সেটিংস</a>
            <a href="#" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100">লগ আউট</a>
          </div>
        </div>
      </div>
    </div>
  </header>
  
  <!-- মেইন কন্টেন্ট -->
  <main class="container mx-auto px-4 py-6">
    <div class="grid grid-cols-1 lg:grid-cols-4 gap-6">
      <!-- লেফ্ট সাইডবার -->
      <div class="lg:col-span-1 space-y-4 order-2 lg:order-1">
        <!-- প্রোফাইল কার্ড -->
        <div class="bg-white rounded-lg shadow p-4">
          <div class="text-center">
            <img :src="currentUser.avatar" alt="প্রোফাইল" class="h-20 w-20 rounded-full mx-auto mb-3">
            <h3 x-text="currentUser.name" class="font-bold text-lg"></h3>
            <p x-text="currentUser.batch" class="text-gray-600 text-sm"></p>
            <p x-text="currentUser.department" class="text-gray-600 text-sm mb-3"></p>
            <div class="flex justify-around border-t pt-3">
              <div class="text-center">
                <span x-text="currentUser.friends" class="font-bold block"></span>
                <span class="text-gray-500 text-sm">বন্ধু</span>
              </div>
              <div class="text-center">
                <span x-text="currentUser.posts" class="font-bold block"></span>
                <span class="text-gray-500 text-sm">পোস্ট</span>
              </div>
              <div class="text-center">
                <span x-text="currentUser.groups" class="font-bold block"></span>
                <span class="text-gray-500 text-sm">গ্রুপ</span>
              </div>
            </div>
          </div>
        </div>
        
        <!-- গ্রুপস -->
        <div class="bg-white rounded-lg shadow p-4">
          <h3 class="font-bold text-lg mb-3 border-b pb-2">আপনার গ্রুপসমূহ</h3>
          <div class="space-y-3">
            <template x-for="group in groups" :key="group.id">
              <a href="#" class="flex items-center space-x-2 hover:text-green-600">
                <img :src="group.image" :alt="group.name" class="h-8 w-8 rounded-full">
                <span x-text="group.name"></span>
              </a>
            </template>
            <a href="#" class="text-green-600 text-sm font-medium flex items-center">
              <i class="fas fa-plus mr-1"></i> সব গ্রুপ দেখুন
            </a>
          </div>
        </div>
        
        <!-- ইভেন্টস -->
        <div class="bg-white rounded-lg shadow p-4">
          <h3 class="font-bold text-lg mb-3 border-b pb-2">আসন্ন ইভেন্ট</h3>
          <div class="space-y-3">
            <template x-for="event in events" :key="event.id">
              <div class="border-l-4 border-green-500 pl-3 py-1">
                <h4 x-text="event.title" class="font-medium"></h4>
                <p class="text-gray-500 text-sm" x-text="event.date"></p>
              </div>
            </template>
            <a href="#" class="text-green-600 text-sm font-medium flex items-center">
              <i class="far fa-calendar-alt mr-1"></i> ক্যালেন্ডার দেখুন
            </a>
          </div>
        </div>
      </div>
      
      <!-- মিডিল ফিড -->
      <div class="lg:col-span-2 space-y-4 order-1 lg:order-2">
        <!-- পোস্ট ক্রিয়েট -->
        <div class="bg-white rounded-lg shadow p-4">
          <div class="flex items-center space-x-3 mb-4">
            <img :src="currentUser.avatar" alt="প্রোফাইল" class="h-10 w-10 rounded-full">
            <button @click="newPostOpen = true" class="flex-grow bg-gray-100 hover:bg-gray-200 text-gray-600 text-left px-4 py-2 rounded-full transition">
              আজকে কী শিখলেন?
            </button>
          </div>
          <div class="flex justify-around border-t pt-3">
            <button @click="newPostType = 'photo'" class="flex items-center text-gray-500 hover:text-green-600">
              <i class="fas fa-image mr-1"></i> ছবি
            </button>
            <button @click="newPostType = 'video'" class="flex items-center text-gray-500 hover:text-green-600">
              <i class="fas fa-video mr-1"></i> ভিডিও
            </button>
            <button @click="newPostType = 'poll'" class="flex items-center text-gray-500 hover:text-green-600">
              <i class="fas fa-poll mr-1"></i> পোল
            </button>
          </div>
        </div>
        
        <!-- নিউ পোস্ট মোডাল -->
        <div x-show="newPostOpen" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50">
          <div @click.outside="newPostOpen = false" class="bg-white rounded-lg w-full max-w-md p-4">
            <div class="flex justify-between items-center mb-4">
              <h3 class="font-bold text-lg">নতুন পোস্ট তৈরি করুন</h3>
              <button @click="newPostOpen = false" class="text-gray-500 hover:text-gray-700">
                <i class="fas fa-times"></i>
              </button>
            </div>
            <div class="flex items-center space-x-3 mb-4">
              <img :src="currentUser.avatar" alt="প্রোফাইল" class="h-10 w-10 rounded-full">
              <span x-text="currentUser.name" class="font-medium"></span>
            </div>
            <textarea x-model="newPostContent" placeholder="আপনার মনের কথা লিখুন..." class="w-full border rounded-lg p-3 focus:outline-none focus:ring-1 focus:ring-green-500"></textarea>
            
            <div x-show="newPostType === 'photo'" class="mt-3 border border-dashed border-gray-300 rounded-lg p-4 text-center">
              <i class="fas fa-image text-4xl text-gray-300 mb-2"></i>
              <p class="text-gray-500 mb-2">ছবি আপলোড করুন</p>
              <input type="file" class="hidden" id="photoUpload">
              <label for="photoUpload" class="bg-green-500 text-white px-4 py-2 rounded-lg cursor-pointer">
                ফাইল নির্বাচন করুন
              </label>
            </div>
            
            <div x-show="newPostType === 'poll'" class="mt-3 space-y-2">
              <input type="text" placeholder="প্রশ্ন লিখুন" class="w-full border rounded-lg p-2">
              <div class="flex items-center space-x-2">
                <input type="text" placeholder="অপশন ১" class="flex-grow border rounded-lg p-2">
                <button class="text-red-500">
                  <i class="fas fa-times"></i>
                </button>
              </div>
              <button class="text-green-600 text-sm">
                <i class="fas fa-plus mr-1"></i> আরো অপশন যোগ করুন
              </button>
            </div>
            
            <div class="flex justify-between items-center mt-4 border-t pt-4">
              <div class="flex space-x-2">
                <button @click="newPostType = 'text'" :class="{ 'text-green-600': newPostType === 'text' }" class="p-2">
                  <i class="far fa-edit"></i>
                </button>
                <button @click="newPostType = 'photo'" :class="{ 'text-green-600': newPostType === 'photo' }" class="p-2">
                  <i class="fas fa-image"></i>
                </button>
                <button @click="newPostType = 'poll'" :class="{ 'text-green-600': newPostType === 'poll' }" class="p-2">
                  <i class="fas fa-poll"></i>
                </button>
              </div>
              <button @click="createPost()" class="bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg">
                পোস্ট করুন
              </button>
            </div>
          </div>
        </div>
        
        <!-- ট্যাবস -->
        <div class="bg-white rounded-lg shadow">
          <div class="flex border-b">
            <button @click="activeTab = 'all'" :class="{ 'active-tab': activeTab === 'all' }" class="flex-1 py-3 text-center font-medium">
              সব পোস্ট
            </button>
            <button @click="activeTab = 'following'" :class="{ 'active-tab': activeTab === 'following' }" class="flex-1 py-3 text-center font-medium">
              অনুসরণ করা
            </button>
            <button @click="activeTab = 'popular'" :class="{ 'active-tab': activeTab === 'popular' }" class="flex-1 py-3 text-center font-medium">
              জনপ্রিয়
            </button>
          </div>
        </div>
        
        <!-- পোস্ট ফিড -->
        <template x-for="post in filteredPosts" :key="post.id">
          <div class="post-card bg-white rounded-lg shadow p-4">
            <div class="flex justify-between items-start mb-3">
              <div class="flex items-center space-x-3">
                <img :src="post.user.avatar" :alt="post.user.name" class="h-10 w-10 rounded-full">
                <div>
                  <h4 x-text="post.user.name" class="font-bold"></h4>
                  <p class="text-gray-500 text-sm" x-text="post.time"></p>
                </div>
              </div>
              <button class="text-gray-400 hover:text-gray-600">
                <i class="fas fa-ellipsis-h"></i>
              </button>
            </div>
            
            <p class="mb-3" x-text="post.content"></p>
            
            <div x-show="post.image" class="mb-3">
              <img :src="post.image" :alt="post.content" class="w-full rounded-lg">
            </div>
            
            <div class="flex justify-between text-gray-500 border-t border-b py-2 mb-3">
              <button @click="toggleLike(post.id)" class="flex items-center space-x-1 hover:text-green-600">
                <i :class="post.liked ? 'fas fa-thumbs-up text-green-600' : 'far fa-thumbs-up'"></i>
                <span x-text="post.likes"></span>
              </button>
              <button @click="showComments(post.id)" class="flex items-center space-x-1 hover:text-green-600">
                <i class="far fa-comment"></i>
                <span x-text="post.comments.length"></span>
              </button>
              <button class="flex items-center space-x-1 hover:text-green-600">
                <i class="far fa-share-square"></i>
                <span>শেয়ার</span>
              </button>
            </div>
            
            <!-- কমেন্ট সেকশন -->
            <div x-show="post.showComments" class="space-y-3">
              <div class="flex items-center space-x-2">
                <img :src="currentUser.avatar" alt="প্রোফাইল" class="h-8 w-8 rounded-full">
                <input x-model="post.newComment" @keyup.enter="addComment(post.id)" type="text" placeholder="মন্তব্য করুন..." class="flex-grow border rounded-full px-3 py-1 focus:outline-none">
              </div>
              
              <template x-for="comment in post.comments" :key="comment.id">
                <div class="flex space-x-2">
                  <img :src="comment.user.avatar" :alt="comment.user.name" class="h-8 w-8 rounded-full">
                  <div class="bg-gray-100 rounded-lg p-2 flex-grow">
                    <h5 x-text="comment.user.name" class="font-bold text-sm"></h5>
                    <p x-text="comment.text" class="text-sm"></p>
                    <div class="flex space-x-3 text-xs text-gray-500 mt-1">
                      <span x-text="comment.time"></span>
                      <button class="hover:text-green-600">লাইক</button>
                      <button class="hover:text-green-600">রিপ্লাই</button>
                    </div>
                  </div>
                </div>
              </template>
            </div>
          </div>
        </template>
      </div>
      
      <!-- রাইট সাইডবার -->
      <div class="lg:col-span-1 space-y-4 order-3 lg:order-3">
        <!-- নোটিফিকেশন প্যানেল -->
        <div x-show="notificationsOpen" class="bg-white rounded-lg shadow-lg absolute right-4 w-72 z-50">
          <div class="p-3 border-b flex justify-between items-center">
            <h3 class="font-bold">নোটিফিকেশন</h3>
            <button @click="notificationsOpen = false" class="text-gray-500 hover:text-gray-700">
              <i class="fas fa-times"></i>
            </button>
          </div>
          <div class="max-h-96 overflow-y-auto">
            <template x-for="notification in notifications" :key="notification.id">
              <a href="#" class="block p-3 hover:bg-gray-50 border-b">
                <div class="flex items-start space-x-2">
                  <img :src="notification.user.avatar" :alt="notification.user.name" class="h-10 w-10 rounded-full">
                  <div>
                    <p class="text-sm" x-text="notification.text"></p>
                    <p class="text-xs text-gray-500" x-text="notification.time"></p>
                  </div>
                  <span x-show="!notification.read" class="h-2 w-2 bg-green-500 rounded-full mt-1"></span>
                </div>
              </a>
            </template>
          </div>
          <div class="p-3 text-center bg-gray-50">
            <a href="#" class="text-green-600 text-sm font-medium">সব নোটিফিকেশন দেখুন</a>
          </div>
        </div>
        
        <!-- অনলাইন শিক্ষার্থী -->
        <div class="bg-white rounded-lg shadow p-4">
          <h3 class="font-bold text-lg mb-3 border-b pb-2">অনলাইন শিক্ষার্থী</h3>
          <div class="space-y-3">
            <template x-for="user in onlineUsers" :key="user.id">
              <div class="flex items-center space-x-2">
                <div class="relative">
                  <img :src="user.avatar" :alt="user.name" class="h-8 w-8 rounded-full">
                  <span class="absolute bottom-0 right-0 h-2 w-2 bg-green-500 rounded-full"></span>
                </div>
                <span x-text="user.name"></span>
              </div>
            </template>
          </div>
        </div>
        
        <!-- স্টাডি গ্রুপ -->
        <div class="bg-white rounded-lg shadow p-4">
          <h3 class="font-bold text-lg mb-3 border-b pb-2">স্টাডি গ্রুপ</h3>
          <div class="space-y-4">
            <div class="flex items-center space-x-3 p-2 bg-green-50 rounded-lg">
              <div class="bg-green-100 p-2 rounded-full">
                <i class="fas fa-book text-green-600"></i>
              </div>
              <div>
                <h4 class="font-medium">কুরআন তাফসীর</h4>
                <p class="text-gray-500 text-sm">১৫ সদস্য</p>
              </div>
            </div>
            <div class="flex items-center space-x-3 p-2 hover:bg-green-50 rounded-lg">
              <div class="bg-blue-100 p-2 rounded-full">
                <i class="fas fa-pen-fancy text-blue-600"></i>
              </div>
              <div>
                <h4 class="font-medium">আরবি ভাষা</h4>
                <p class="text-gray-500 text-sm">২৩ সদস্য</p>
              </div>
            </div>
            <div class="flex items-center space-x-3 p-2 hover:bg-green-50 rounded-lg">
              <div class="bg-purple-100 p-2 rounded-full">
                <i class="fas fa-graduation-cap text-purple-600"></i>
              </div>
              <div>
                <h4 class="font-medium">হাদিস গবেষণা</h4>
                <p class="text-gray-500 text-sm">৮ সদস্য</p>
              </div>
            </div>
            <button class="w-full bg-green-600 hover:bg-green-700 text-white py-2 rounded-lg">
              নতুন গ্রুপ তৈরি করুন
            </button>
          </div>
        </div>
        
        <!-- দরকারী লিংক -->
        <div class="bg-white rounded-lg shadow p-4">
          <h3 class="font-bold text-lg mb-3 border-b pb-2">দরকারী লিংক</h3>
          <div class="space-y-2">
            <a href="#" class="block hover:text-green-600">মাদ্রাসা ক্যালেন্ডার</a>
            <a href="#" class="block hover:text-green-600">ক্লাস রুটিন</a>
            <a href="#" class="block hover:text-green-600">পরীক্ষার ফলাফল</a>
            <a href="#" class="block hover:text-green-600">লাইব্রেরি রিসোর্স</a>
            <a href="#" class="block hover:text-green-600">শিক্ষক পরিচিতি</a>
          </div>
        </div>
      </div>
    </div>
  </main>
  <include src="/src/components/bottom-nav"></include>
  <script src="/src/index.js"></script>
  
  <script>
    function socialApp() {
      return {
        // ইউজার ডাটা
        currentUser: {
          id: 1,
          name: "আব্দুল্লাহ আল মামুন",
          avatar: "./images/logo.jpg",
          batch: "২০২৩ ব্যাচ",
          department: "হাদিস বিভাগ",
          friends: 124,
          posts: 28,
          groups: 5
        },
        
        // স্টেট ম্যানেজমেন্ট
        newPostOpen: false,
        newPostType: 'text',
        newPostContent: '',
        activeTab: 'all',
        notificationsOpen: false,
        unreadNotifications: 3,
        
        // ডেমো ডাটা
        posts: [],
        groups: [
          { id: 1, name: "ফিকহ স্টাডি গ্রুপ", image: "./images/logo.jpg" },
          { id: 2, name: "তাজবিদ লার্নার্স", image: "./images/logo.jpg" },
          { id: 3, name: "আরবি ভাষা চর্চা", image: "./images/logo.jpg" }
        ],
        events: [
          { id: 1, title: "বার্ষিক মিলাদ মাহফিল", date: "১৫ জুলাই, ২০২৪" },
          { id: 2, title: "মিড টার্ম পরীক্ষা", date: "২০-২৫ জুলাই, ২০২৪" }
        ],
        onlineUsers: [
          { id: 1, name: "মুহাম্মদ ইব্রাহিম", avatar: "./images/logo.jpg" },
          { id: 2, name: "আয়েশা সিদ্দিকা", avatar: "./images/logo.jpg" },
          { id: 3, name: "ওমর ফারুক", avatar: "./images/logo.jpg" },
          { id: 4, name: "ফাতিমা জাহরা", avatar: "./images/logo.jpg" }
        ],
        notifications: [
        {
          id: 1,
          user: { name: "মুহাম্মদ ইব্রাহিম", avatar: "./images/logo.jpg" },
          text: "আপনার পোস্টে লাইক দিয়েছেন",
          time: "১০ মিনিট আগে",
          read: false
        },
        {
          id: 2,
          user: { name: "আয়েশা সিদ্দিকা", avatar: "./images/logo.jpg" },
          text: "আপনার পোস্টে মন্তব্য করেছেন",
          time: "৩০ মিনিট আগে",
          read: false
        },
        {
          id: 3,
          user: { name: "স্টাডি গ্রুপ", avatar: "./images/logo.jpg" },
          text: "আপনার গ্রুপে নতুন আলোচনা যোগ হয়েছে",
          time: "২ ঘন্টা আগে",
          read: true
        }],
        
        // কম্পিউটেড প্রপার্টিজ
        get filteredPosts() {
          if (this.activeTab === 'following') {
            return this.posts.filter(post => post.user.following);
          } else if (this.activeTab === 'popular') {
            return [...this.posts].sort((a, b) => b.likes - a.likes);
          } else {
            return this.posts;
          }
        },
        
        // মেথডস
        fetchPosts() {
          // ডেমো ডাটা - বাস্তবে এখানে API কল হবে
          this.posts = [
          {
            id: 1,
            user: {
              id: 2,
              name: "মুহাম্মদ ইব্রাহিম",
              avatar: "./images/logo.jpg",
              following: true
            },
            content: "আজকে আমাদের ফিকহ ক্লাসে আমরা নামাজের ফরজ ও ওয়াজিব সম্পর্কে আলোচনা করেছি। বিশেষ করে সিজদায় যাওয়ার সময় পা কিভাবে রাখতে হবে সে বিষয়ে বিস্তারিত জানলাম।",
            image: "./images/logo.jpg",
            time: "২ ঘন্টা আগে",
            likes: 15,
            liked: false,
            comments: [
            {
              id: 1,
              user: { name: "আয়েশা সিদ্দিকা", avatar: "./images/logo.jpg" },
              text: "আপনার পোস্ট থেকে অনেক কিছু শিখলাম!",
              time: "১ ঘন্টা আগে"
            }],
            showComments: false,
            newComment: ""
          },
          {
            id: 2,
            user: {
              id: 3,
              name: "আয়েশা সিদ্দিকা",
              avatar: "./images/logo.jpg",
              following: true
            },
            content: "কেউ কি আমাকে সাহায্য করতে পারবেন? আমি আরবি ব্যাকরণের 'ইননা ও أخواتها' অধ্যায়টি ভালোভাবে বুঝতে পারছি না।",
            time: "৫ ঘন্টা আগে",
            likes: 8,
            liked: true,
            comments: [
            {
              id: 1,
              user: { name: "ওমর ফারুক", avatar: "./images/logo.jpg" },
              text: "আমি আপনাকে সাহায্য করতে পারি। আমাদের গ্রুপ স্টাডিতে যোগ দিন।",
              time: "৩ ঘন্টা আগে"
            },
            {
              id: 2,
              user: { name: "ফাতিমা জাহরা", avatar: "./images/logo.jpg" },
              text: "এই ভিডিওটি দেখতে পারেন: https://youtu.be/example",
              time: "২ ঘন্টা আগে"
            }],
            showComments: false,
            newComment: ""
          }];
        },
        
        createPost() {
          if (!this.newPostContent.trim()) return;
          
          const newPost = {
            id: Date.now(),
            user: { ...this.currentUser },
            content: this.newPostContent,
            time: "এক্ষুনি",
            likes: 0,
            liked: false,
            comments: [],
            showComments: false,
            newComment: ""
          };
          
          if (this.newPostType === 'photo') {
            newPost.image = "./images/logo.jpg";
          }
          
          this.posts.unshift(newPost);
          this.newPostContent = '';
          this.newPostOpen = false;
          this.currentUser.posts++;
        },
        
        toggleLike(postId) {
          const post = this.posts.find(p => p.id === postId);
          if (post) {
            post.liked = !post.liked;
            post.likes += post.liked ? 1 : -1;
          }
        },
        
        showComments(postId) {
          const post = this.posts.find(p => p.id === postId);
          if (post) {
            post.showComments = !post.showComments;
          }
        },
        
        addComment(postId) {
          const post = this.posts.find(p => p.id === postId);
          if (post && post.newComment.trim()) {
            post.comments.push({
              id: Date.now(),
              user: { ...this.currentUser },
              text: post.newComment,
              time: "এক্ষুনি"
            });
            post.newComment = '';
          }
        }
      };
    }
  </script>
</body>

</html>