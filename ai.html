<!DOCTYPE html>
<html lang="bn">

<head>
  <meta charset="utf-8">
  <meta name="robots" content="max-snippet:-1, max-image-preview:large, max-video-preview:-1">
  <link rel="canonical" href="https://asmmbd.github.io/ai">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="description" content="নাহদা এ আই - ইসলামি জ্ঞানের সঙ্গী ">
  
  <meta name="twitter:site" content="@nahdaai">
  <meta name="twitter:creator" content="@nahdaai">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="নাহদা এ আই - ইসলামি জ্ঞানের সঙ্গী ">
  <meta name="twitter:description" content="নাহদা এ আই - ইসলামি জ্ঞানের সঙ্গী ">
  <meta name="twitter:image" content="./images/nahdalogo.jpg">
  
  <meta property="og:url" content="https://asmmbd.github.io/ai">
  <meta property="og:locale" content="bn_BD">
  <meta property="og:type" content="website">
  <meta property="og:site_name" content="নাহদা এ আই - ইসলামি জ্ঞানের সঙ্গী">
  <meta property="og:title" content="নাহদা এ আই - ইসলামি জ্ঞানের সঙ্গী">
  <meta property="og:description" content="নাহদা এ আই - ইসলামি জ্ঞানের সঙ্গী">
  <meta property="og:image" content="./images/nahdalogo.jpg">
  
  <title>নাহদা এ আই - ইসলামি জ্ঞানের সঙ্গী </title>
  
  <link rel="shortcut icon" href="./images/nahdalogo.jpg">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
  
  <script src="https://cdn.tailwindcss.com?plugins=typography"></script>
  <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
  <link href="https://fonts.maateen.me/solaiman-lipi/font.css" rel="stylesheet">
  <script defer src="https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js"></script>
  <style>
    * {
      font-family: SolaimanLipi;
    }
    
    [x-cloak] {
      display: none !important;
    }
    
    pre {
      width: 100%;
      background: #f0f0f0 !important;
      color: #000 !important;
      overflow-x: auto;
      padding: 12px;
      border-radius: 8px;
    }
    
    .whitespace-pre-wrap {
      white-space: pre-wrap;
    }
  </style>
  <style>
    .dots {
      width: 40px;
      height: 19.2px;
      background: radial-gradient(circle closest-side, #000000 90%, #0000) 0% 50%,
        radial-gradient(circle closest-side, #000000 90%, #0000) 50% 50%,
        radial-gradient(circle closest-side, #000000 90%, #0000) 100% 50%;
      background-size: calc(100%/3) 9.6px;
      background-repeat: no-repeat;
      animation: dots-7ar3yq 1s infinite linear;
    }
    
    @keyframes dots-7ar3yq {
      20% {
        background-position: 0% 0%, 50% 50%, 100% 50%;
      }
      
      40% {
        background-position: 0% 100%, 50% 0%, 100% 50%;
      }
      
      60% {
        background-position: 0% 50%, 50% 100%, 100% 0%;
      }
      
      80% {
        background-position: 0% 50%, 50% 50%, 100% 100%;
      }
    }
  </style>
  
</head>

<body class="bg-white">
  <div x-data="alemai()" x-cloak>
    <div x-show="sidebar" x-transition:enter="transition ease-out duration-300" x-transition:enter-start="transform -translate-x-full" x-transition:enter-end="transform translate-x-0" x-transition:leave="transition ease-in duration-300" x-transition:leave-start="transform translate-x-0" x-transition:leave-end="transform -translate-x-full" class="fixed top-0 start-0 bottom-0 z-60 w-80 lg:w-64 h-full bg-white border-e border-gray-200 md:block md:translate-x-0 md:end-auto md:bottom-0 z-50" role="dialog" tabindex="-1" aria-label="সাইডবার">
      <nav class="size-full flex flex-col">
        <div class="w-full flex items-center justify-between pt-4 px-4 gap-3">
          <div class="relative flex-1">
            <svg class="absolute top-2 left-2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24" color="#000000" fill="none">
              <path d="M17 17L21 21" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" />
              <path d="M19 11C19 6.58172 15.4183 3 11 3C6.58172 3 3 6.58172 3 11C3 15.4183 6.58172 19 11 19C15.4183 19 19 15.4183 19 11Z" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" />
            </svg>
            <input type="text" class="w-full border border-gray-300 rounded-md h-10 pr-3 pl-10 outline-none" />
          </div>
          <button @click="clearConversation()" class="shrink-0 text-sm text-gray-700">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24" color="#000000" fill="none">
              <path d="M16.4249 4.60509L17.4149 3.6151C18.2351 2.79497 19.5648 2.79497 20.3849 3.6151C21.205 4.43524 21.205 5.76493 20.3849 6.58507L19.3949 7.57506M16.4249 4.60509L9.76558 11.2644C9.25807 11.772 8.89804 12.4078 8.72397 13.1041L8 16L10.8959 15.276C11.5922 15.102 12.228 14.7419 12.7356 14.2344L19.3949 7.57506M16.4249 4.60509L19.3949 7.57506" stroke="currentColor" stroke-width="1.5" stroke-linejoin="round" />
              <path d="M18.9999 13.5C18.9999 16.7875 18.9999 18.4312 18.092 19.5376C17.9258 19.7401 17.7401 19.9258 17.5375 20.092C16.4312 21 14.7874 21 11.4999 21H11C7.22876 21 5.34316 21 4.17159 19.8284C3.00003 18.6569 3 16.7712 3 13V12.5C3 9.21252 3 7.56879 3.90794 6.46244C4.07417 6.2599 4.2599 6.07417 4.46244 5.90794C5.56879 5 7.21252 5 10.5 5" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" />
            </svg>
          </button>
        </div>
        
        <div class="h-full overflow-y-auto [&::-webkit-scrollbar]:w-2 [&::-webkit-scrollbar-thumb]:rounded-full [&::-webkit-scrollbar-track]:bg-gray-100 [&::-webkit-scrollbar-thumb]:bg-gray-300">
          <div class="mt-3 px-4 font-bold text-lg flex items-center gap-2">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="20" height="20" color="#000000" fill="none">
              <path d="M12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2C7.52232 2 3.77426 4.94289 2.5 9H5" stroke="#000000" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path>
              <path d="M12 8V12L14 14" stroke="#000000" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path>
              <path d="M2 12C2 12.3373 2.0152 12.6709 2.04494 13M9 22C8.6584 21.8876 8.32471 21.7564 8 21.6078M3.20939 17C3.01655 16.6284 2.84453 16.2433 2.69497 15.8462M4.83122 19.3065C5.1369 19.6358 5.46306 19.9441 5.80755 20.2292" stroke="#000000" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path>
            </svg>
            <h1>সাম্প্রতিক চ্যাট</h1>
          </div>
          <div class="mt-2 mb-4 px-4">
            <template x-for="(message, index) in conversationHistory" :key="index">
              <button x-show="message.role === 'user'" @click="sendMessage(message.parts[0].text)" class="w-full truncate mb-2 px-3 py-2 text-sm text-left text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200">
                <span x-text="message.parts[0].text"></span>
              </button>
            </template>
          </div>
        </div>
        
        <div class="mt-auto">
          <div class="p-4 border-t border-gray-200">
            <button @click="showSetting = true" class="flex justify-between items-center gap-x-3 py-2 px-3 text-sm text-gray-700 rounded-lg hover:bg-gray-100 focus:outline-hidden focus:bg-gray-100">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="20" height="20" color="#000000" fill="none">
                <path d="M21.3175 7.14139L20.8239 6.28479C20.4506 5.63696 20.264 5.31305 19.9464 5.18388C19.6288 5.05472 19.2696 5.15664 18.5513 5.36048L17.3311 5.70418C16.8725 5.80994 16.3913 5.74994 15.9726 5.53479L15.6357 5.34042C15.2766 5.11043 15.0004 4.77133 14.8475 4.37274L14.5136 3.37536C14.294 2.71534 14.1842 2.38533 13.9228 2.19657C13.6615 2.00781 13.3143 2.00781 12.6199 2.00781H11.5051C10.8108 2.00781 10.4636 2.00781 10.2022 2.19657C9.94085 2.38533 9.83106 2.71534 9.61149 3.37536L9.27753 4.37274C9.12465 4.77133 8.84845 5.11043 8.48937 5.34042L8.15249 5.53479C7.73374 5.74994 7.25259 5.80994 6.79398 5.70418L5.57375 5.36048C4.85541 5.15664 4.49625 5.05472 4.17867 5.18388C3.86109 5.31305 3.67445 5.63696 3.30115 6.28479L2.80757 7.14139C2.45766 7.74864 2.2827 8.05227 2.31666 8.37549C2.35061 8.69871 2.58483 8.95918 3.05326 9.48012L4.0843 10.6328C4.3363 10.9518 4.51521 11.5078 4.51521 12.0077C4.51521 12.5078 4.33636 13.0636 4.08433 13.3827L3.05326 14.5354C2.58483 15.0564 2.35062 15.3168 2.31666 15.6401C2.2827 15.9633 2.45766 16.2669 2.80757 16.8741L3.30114 17.7307C3.67443 18.3785 3.86109 18.7025 4.17867 18.8316C4.49625 18.9608 4.85542 18.8589 5.57377 18.655L6.79394 18.3113C7.25263 18.2055 7.73387 18.2656 8.15267 18.4808L8.4895 18.6752C8.84851 18.9052 9.12464 19.2442 9.2775 19.6428L9.61149 20.6403C9.83106 21.3003 9.94085 21.6303 10.2022 21.8191C10.4636 22.0078 10.8108 22.0078 11.5051 22.0078H12.6199C13.3143 22.0078 13.6615 22.0078 13.9228 21.8191C14.1842 21.6303 14.294 21.3003 14.5136 20.6403L14.8476 19.6428C15.0004 19.2442 15.2765 18.9052 15.6356 18.6752L15.9724 18.4808C16.3912 18.2656 16.8724 18.2055 17.3311 18.3113L18.5513 18.655C19.2696 18.8589 19.6288 18.9608 19.9464 18.8316C20.264 18.7025 20.4506 18.3785 20.8239 17.7307L21.3175 16.8741C21.6674 16.2669 21.8423 15.9633 21.8084 15.6401C21.7744 15.3168 21.5402 15.0564 21.0718 14.5354L20.0407 13.3827C19.7887 13.0636 19.6098 12.5078 19.6098 12.0077C19.6098 11.5078 19.7888 10.9518 20.0407 10.6328L21.0718 9.48012C21.5402 8.95918 21.7744 8.69871 21.8084 8.37549C21.8423 8.05227 21.6674 7.74864 21.3175 7.14139Z" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" />
                <path d="M8.49997 16C9.1986 14.7923 10.5044 13.9797 12 13.9797C13.4955 13.9797 14.8013 14.7923 15.5 16M14 9.50002C14 10.6046 13.1046 11.5 12 11.5C10.8954 11.5 10 10.6046 10 9.50002C10 8.39545 10.8954 7.50002 12 7.50002C13.1046 7.50002 14 8.39545 14 9.50002Z" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" />
              </svg>
              সেটিংস
            </button>
          </div>
        </div>
      </nav>
    </div>
    
    <div class="relative h-screen w-full lg:ps-64">
      <div class="py-10 lg:py-14">
        <div class="max-w-4xl px-4 sm:px-6 lg:px-8 mx-auto text-center">
          <img src="./images/nahdaai.jpg" alt="" class="shrink-0 size-48 rounded-full mx-auto mb-4" />
          
          <h1 class="text-3xl font-bold text-gray-800 sm:text-4xl">
            ইসলামি সহায়কে স্বাগতম
          </h1>
          <p class="mt-3 text-gray-600">
            আপনার ইসলামি জ্ঞানের সঙ্গী
          </p>
        </div>
        
        <div x-show="!conversationHistory" class="p-4 mt-20">
          <template x-for="question in islamicQuestions">
            <div>
              <h1 class="text-center my-4  text-lg" x-text="question.category"></h1>
              <div class="flex flex-wrap items-center justify-center gap-3">
                <template x-for="q in question.questions">
                  <button @click="sendMessage(q)" class="truncate px-3 py-2 text-sm text-left text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200" x-text="q">
                  </button>
                </template>
              </div>
            </div>
          </template>
        </div>
        
        
        <ul class="mt-16 space-y-5" x-ref="chatContainer">
          <template x-for="(message, index) in conversationHistory" :key="index">
            <li class="max-w-4xl py-2 px-4 sm:px-6 lg:px-8 mx-auto flex gap-x-2 sm:gap-x-4" x-show="true" x-transition:enter="transition ease-out duration-500" x-transition:enter-start="opacity-0 transform -translate-y-4" x-transition:enter-end="opacity-100 transform translate-y-0">
              <img x-show="message.role === 'model'" src="./images/nahdalogo.jpg" alt="" class="shrink-0 size-10 rounded-full" />
              <img x-show="message.role === 'user'" src="./images/user.png" alt="" class="shrink-0 size-8 rounded-full" />
              
              <div class="grow max-w-[90%] md:max-w-2xl w-full space-y-3">
                <div class="space-y-3 prose prose-p:mt-0">
                  <p class="text-gray-800" x-html="marked.parse(message.parts[0].text)"></p>
                </div>
                <div x-show="message.role === 'model' && !isTyping" class="inline-flex border border-gray-200 rounded-full p-0.5">
                  <button type="button" class="py-2 px-3 inline-flex items-center gap-x-2 text-sm rounded-full border border-transparent text-gray-500 hover:bg-gray-50 focus:outline-hidden focus:bg-gray-50 disabled:opacity-50 disabled:pointer-events-none">
                    <svg class="shrink-0 size-4" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                      <path d="M21 12a9 9 0 1 1-9-9c2.52 0 4.93 1 6.74 2.74L21 8" />
                      <path d="M21 3v5h-5" />
                    </svg>
                    নতুন উত্তর
                  </button>
                  <button @click="navigator.clipboard.writeText(message.parts[0].text)" type="button" class="py-2 px-3 inline-flex items-center gap-x-2 text-sm rounded-full border border-transparent text-gray-500 hover:bg-gray-50 focus:outline-hidden focus:bg-gray-50 disabled:opacity-50 disabled:pointer-events-none">
                    <svg class="shrink-0 size-4" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
                      <path d="M7 7m0 2.667a2.667 2.667 0 0 1 2.667 -2.667h8.666a2.667 2.667 0 0 1 2.667 2.667v8.666a2.667 2.667 0 0 1 -2.667 2.667h-8.666a2.667 2.667 0 0 1 -2.667 -2.667z" />
                      <path d="M4.012 16.737a2.005 2.005 0 0 1 -1.012 -1.737v-10c0 -1.1 .9 -2 2 -2h10c.75 0 1.158 .385 1.5 1" />
                    </svg>
                  </button>
                  <button @click="toggleSpeech(message.parts[0].text, index)" type="button" class="py-2 px-3 inline-flex items-center gap-x-2 text-sm rounded-full border border-transparent text-gray-500 hover:bg-gray-50 focus:outline-hidden focus:bg-green-50 disabled:opacity-50 disabled:pointer-events-none">
                    <svg x-show="!isSpeaking[index]" class="shrink-0 size-4" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                      <polygon points="11 5 6 9 2 9 2 15 6 15 11 19 11 5" />
                      <path d="M15.54 8.46a5 5 0 0 1 0 7.07" />
                      <path d="M19.07 4.93a10 10 0 0 1 0 14.14" />
                    </svg>
                    <svg x-show="isSpeaking[index]" class="shrink-0 size-4" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                      <polygon points="11 5 6 9 2 9 2 15 6 15 11 19 11 5" />
                      <line x1="22" y1="9" x2="16" y2="15" />
                    </svg>
                  </button>
                </div>
              </div>
            </li>
          </template>
          <li x-show="isLoading" class="w-full max-w-4xl py-2 px-4 sm:px-6 lg:px-8 mx-auto flex items-center gap-x-2 sm:gap-x-4">
            <img src="./images/nahdalogo.jpg" alt="" class="shrink-0 size-10 rounded-full" />
            <div class="dots"></div>
          </li>
        </ul>
      </div>
      
      <div class="max-w-4xl mx-auto sticky bottom-0 z-10 p-3 sm:py-6">
        <div class="md:hidden flex justify-end mb-2 sm:mb-3">
          <button @click="sidebar = !sidebar" type="button" class="p-2 inline-flex items-center gap-x-2 text-xs font-medium rounded-lg border border-gray-200 bg-white text-gray-800 shadow-2xs hover:bg-gray-50 focus:outline-hidden focus:bg-gray-50 disabled:opacity-50 disabled:pointer-events-none" aria-label="সাইডবার টগল">
            <svg class="shrink-0 size-3.5" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <line x1="3" x2="21" y1="6" y2="6" />
              <line x1="3" x2="21" y1="12" y2="12" />
              <line x1="3" x2="21" y1="18" y2="18" />
            </svg>
            সাইডবার
          </button>
        </div>
        
        <div class="relative">
          <textarea x-model="inputText" class="p-3 sm:p-4 pb-12 sm:pb-12 block w-full bg-gray-100 border-gray-200 rounded-lg sm:text-sm focus:border-green-500 focus:ring-green-500 outline-none" placeholder="আমাকে কিছু জিজ্ঞাসা করুন..."></textarea>
          
          <div class="absolute bottom-px inset-x-px p-2 rounded-b-lg bg-gray-100">
            <div class="flex flex-wrap justify-between items-center gap-2">
              <div class="flex items-center">
                <button @click="clearConversation()" type="button" class="inline-flex shrink-0 justify-center items-center size-8 rounded-lg text-gray-500 hover:bg-white focus:z-10 focus:outline-hidden focus:bg-white">
                  <svg class="shrink-0 size-4" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <rect width="18" height="18" x="3" y="3" rx="2" />
                    <line x1="9" x2="15" y1="15" y2="9" />
                  </svg>
                </button>
                <button @click="toggleVoiceOutput()" type="button" class="inline-flex shrink-0 justify-center items-center size-8 rounded-lg text-gray-500 hover:bg-white focus:z-10 focus:outline-hidden focus:bg-white">
                  <svg x-show="!isVoiceOutputEnabled" class="shrink-0 size-4" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <polygon points="11 5 6 9 2 9 2 15 6 15 11 19 11 5" />
                    <line x1="22" y1="9" x2="16" y2="15" />
                  </svg>
                  <svg x-show="isVoiceOutputEnabled" class="shrink-0 size-4" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <polygon points="11 5 6 9 2 9 2 15 6 15 11 19 11 5" />
                    <path d="M15.54 8.46a5 5 0 0 1 0 7.07" />
                    <path d="M19.07 4.93a10 10 0 0 1 0 14.14" />
                  </svg>
                </button>
              </div>
              <div class="flex items-center gap-x-1">
                <button @click="startVoiceInput()" type="button" class="inline-flex shrink-0 justify-center items-center size-8 rounded-lg text-gray-500 hover:bg-white focus:z-10 focus:outline-hidden focus:bg-white">
                  <svg class="shrink-0 size-4" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <path d="M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z" />
                    <path d="M19 10v2a7 7 0 0 1-14 0v-2" />
                    <line x1="12" x2="12" y1="19" y2="22" />
                  </svg>
                </button>
                <button @click="sendMessage(inputText)" type="button" class="inline-flex shrink-0 justify-center items-center size-8 rounded-lg text-white bg-green-600 hover:bg-green-500 focus:z-10 focus:outline-hidden focus:bg-green-500">
                  <svg class="shrink-0 size-3.5" xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16">
                    <path d="M15.964.686a.5.5 0 0 0-.65-.65L.767 5.855H.766l-.452.18a.5.5 0 0 0-.082.887l.41.26.001.002 4.995 3.178 3.178 4.995.002.002.26.41a.5.5 0 0 0 .886-.083l6-15Zm-1.833 1.89L6.637 10.07l-.215-.338a.5.5 0 0 0-.154-.154l-.338-.215 7.494-7.494 1.178-.471-.47 1.178Z" />
                  </svg>
                </button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    
    <!-- কনফার্মেশন মোডাল -->
    <div x-show="showConfirmationModal" x-transition:enter="ease-out duration-300" x-transition:enter-start="opacity-0" x-transition:enter-end="opacity-100" x-transition:leave="ease-in duration-200" x-transition:leave-start="opacity-100" x-transition:leave-end="opacity-0" class="fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50">
      <div x-show="showConfirmationModal" x-transition:enter="ease-out duration-300" x-transition:enter-start="opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95" x-transition:enter-end="opacity-100 translate-y-0 sm:scale-100" x-transition:leave="ease-in duration-200" x-transition:leave-start="opacity-100 translate-y-0 sm:scale-100" x-transition:leave-end="opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95" class="bg-white rounded-lg shadow-xl w-80 overflow-hidden">
        <!-- মেসেজ কন্টেন্ট -->
        <div class="p-5 text-center">
          <h1 class="text-gray-700 text-xl mb-3 font-bold">চ্যাট মুছুন</h1>
          <p class="text-gray-700">আপনি কি নিশ্চিত যে আপনি এই কথোপকথন মুছে ফেলতে চান?</p>
        </div>
        
        <!-- বাটন গ্রুপ -->
        <div class="flex border-t divide-x">
          <button @click="showConfirmationModal = false" class="flex-1 py-3 text-gray-600 hover:bg-gray-50 transition-colors">
            বাতিল
          </button>
          <button @click="confirmDelete(); showConfirmationModal = false" class="flex-1 py-3 text-red-600 bg-gray-50 transition-colors relative">
            <span>মুছে ফেলুন</span>
          </button>
        </div>
      </div>
    </div>
    
    <!-- সেটিংস মোডাল -->
    <div x-show="showSetting" x-transition:enter="ease-out duration-300" x-transition:enter-start="opacity-0" x-transition:enter-end="opacity-100" x-transition:leave="ease-in duration-200" x-transition:leave-start="opacity-100" x-transition:leave-end="opacity-0" class="fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50">
      <div x-show="showSetting" x-transition:enter="ease-out duration-300" x-transition:enter-start="opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95" x-transition:enter-end="opacity-100 translate-y-0 sm:scale-100" x-transition:leave="ease-in duration-200" x-transition:leave-start="opacity-100 translate-y-0 sm:scale-100" x-transition:leave-end="opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95" class="bg-white rounded-lg shadow-xl w-96 overflow-hidden">
        <!-- মেসেজ কন্টেন্ট -->
        <div>
          <div class="p-4">
            <h1 class="text-gray-700 text-xl mb-3 font-bold">কাস্টম নির্দেশাবলী</h1>
            <div class="w-full">
              <label for="name">Nahda Ai আপনাকে কী নামে ডাকবে?</label>
              <input id="name" class="w-full h-10 border rounded-md px-3 outline-none mt-1.5" placeholder="আপনার নাম" />
            </div>
            <div class="w-full my-3">
              <label for="name">আপনি বর্তমানে কোন পেশায় নিয়োজিত</label>
              <input id="name" class="w-full h-10 border rounded-md px-3 outline-none mt-1.5" placeholder="আপনার পেশা" />
            </div>
            <div class="w-full">
              <label for="name">Nahda Ai-এর আপনার সম্পর্কে আর কিছু জানা উচিত?</label>
              <textarea id="name" class="w-full h-28 max-h-32 border rounded-md px-3 outline-none mt-1.5" placeholder="Interests, values, or preferences to keep in mind"> </textarea>
            </div>
            <div class="w-full mt-3">
              <label for="name">Nahda Ai-এর কী কী বৈশিষ্ট্য থাকা উচিত?</label>
              <textarea id="name" class="w-full h-20 max-h-32 border rounded-md px-3 outline-none mt-1.5" placeholder="Interests, values, or preferences to keep in mind"> </textarea>
            </div>
          </div>
          <!-- বাটন গ্রুপ -->
          <div class="flex border-t divide-x">
            <button @click="showSetting = false" class="flex-1 py-3 text-gray-600 hover:bg-gray-50 transition-colors">
              বাতিল
            </button>
            <button @click="showSetting = false" class="flex-1 py-3 text-red-600 bg-gray-50 transition-colors relative">
              <span>সংরক্ষণ করুন</span>
            </button>
          </div>
        </div>
      </div>
    </div>
    
    <script>
      function alemai() {
        return {
          islamicQuestions: [
          {
            category: "কুরআন",
            questions: [
              "কুরআন মাজিদে মোট কতটি সূরা আছে?",
              "কুরআনের দীর্ঘতম সূরা কোনটি?",
              "বিসমিল্লাহির রাহমানির রাহিম কতটি সূরায় নেই?",
              "কুরআনে কারিমে মোট কতটি আয়াত আছে?",
              "কোন সূরাকে কুরআনের হার্ট বলা হয়?"
            ]
          },
          {
            category: "হাদিস",
            questions: [
              "হাদিস শাস্ত্র অনুযায়ী ঈমানের শাখা কতটি?",
              "রাসূল (সা.) এর মোট কতটি হাদিস বর্ণিত হয়েছে?",
              "সহিহ বুখারি হাদিস গ্রন্থে মোট কতটি হাদিস আছে?",
              "কিয়ামতের ছোট নিদর্শন有哪些?",
              "রাসূল (সা.) এর শেষ হাদিস কী ছিল?"
            ]
          },
          {
            category: "ফিকহ",
            questions: [
              "নামাজের ফরজ কয়টি?",
              "ওযুর ফরজ কয়টি?",
              "রোজা ভঙ্গের কারণ有哪些?",
              "হজ্জের ফরজ কয়টি?",
              "যাকাতের নিসাব কত?"
            ]
          },
          {
            category: "ইতিহাস",
            questions: [
              "ইসলামের প্রথম মুয়াযযিন কে ছিলেন?",
              "বদর যুদ্ধ কত সালে সংঘটিত হয়?",
              "মক্কা বিজয়ের বছর কোনটি?",
              "খুলাফায়ে রাশিদীন কে কে?",
              "আন্দালুস (স্পেন) কত বছর মুসলিম শাসনাধীন ছিল?"
            ]
          },
          {
            category: "ঈমান ও আকিদা",
            questions: [
              "ঈমানের রুকন কয়টি?",
              "আল্লাহর ৯৯টি নাম কী কী?",
              "কিয়ামতের বড় নিদর্শন有哪些?",
              "মালাইকা (ফেরেশতা) সম্পর্কে ইসলাম কী বলে?",
              "তাকদীরে বিশ্বাস করা কেন জরুরি?"
            ]
          }],
          API_KEY: "AIzaSyCElGgqJYgYkdBXru48zpLlEoo9XC6E4X8", // আপনার Gemini API কী এখানে বসান
          API_URL: "https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash:generateContent?key=",
          inputText: '',
          errorText: '',
          showSetting: false,
          isLoading: false,
          showConfirmationModal: false,
          isVoiceOutputEnabled: true,
          recognition: null,
          isTyping: false,
          isSpeaking: {}, // কোন মেসেজ পড়ছে তা ট্র্যাক করার জন্য
          speechInstance: null,
          sidebar: window.innerWidth < 768 ? false : true,
          conversationHistory: JSON.parse(localStorage.getItem('conversationHistory')) || [],
          
          async sendMessage(question) {
            if (!question.trim()) return;
            this.scrollToBottom();
            this.conversationHistory.push({ role: "user", parts: [{ text: question }] });
            this.inputText = '';
            this.saveConversation();
            
            try {
              const answer = await this.getAnswer(question);
              this.conversationHistory.push({ role: "model", parts: [{ text: answer }] });
              this.saveConversation();
              this.scrollToBottom();
            } catch (error) {
              this.errorText = "দুঃখিত, একটি সমস্যা হয়েছে। অনুগ্রহ করে আবার চেষ্টা করুন।";
              console.error(error);
            }
          },
          
          async getAnswer(question) {
            this.isLoading = true;
            this.scrollToBottom();
            const islamicPrompt = `
তুমি একটি ইসলামিক চ্যাটবট যার নাম 'নাহদা এআই'।
তোমার প্রধান কাজ হলো কুরআন, হাদিস, এবং বিশ্বস্ত ইসলামিক উৎসের ভিত্তিতে ব্যবহারকারীর প্রশ্নের সঠিক, সুনির্দিষ্ট, এবং সম্মানজনক উত্তর দেওয়া।

যদি ব্যবহারকারীর প্রশ্নটি সাম্প্রতিক কোনো ঘটনা বা তথ্য সম্পর্কিত হয় যা তোমার ট্রেনিং ডেটার বাইরে, তাহলে তুমি বিনয়ের সাথে তা উল্লেখ করবে এবং বলবে যে তোমার কাছে সেই মুহূর্তের সর্বশেষ তথ্য নেই। তুমি বলতে পারো, "আমার জ্ঞান [মডেলের প্রশিক্ষণের সর্বশেষ তারিখ] পর্যন্ত সীমাবদ্ধ, তাই সাম্প্রতিক এই বিষয়ে আমার কাছে বিস্তারিত তথ্য নেই।"

যদি কেউ তোমার নাম জানতে চায়, তুমি বলবে "আমি 'নাহদা এআই', একটি ইসলামিক চ্যাটবট।" এবং এর পরে অন্য কিছু যোগ করার দরকার নেই।

ইসলামিক প্রশ্নের উত্তর দেওয়ার সময়, সম্ভাব্য সকল তথ্য ও প্রেক্ষাপট বিবেচনা করে সবচেয়ে নির্ভুল এবং ভারসাম্যপূর্ণ উত্তর প্রদান করবে। উত্তরটি যেন স্পষ্ট, সংক্ষিপ্ত এবং সহজবোধ্য হয়।

যদি প্রশ্নটি ইসলামিক হয়, তাহলে উত্তরের শেষে এই কথাটি যোগ করবে:
*দ্রষ্টব্য: উত্তরটি কুরআন ও হাদিসের আলোকে দেওয়ার চেষ্টা করা হয়েছে।*

যদি প্রশ্নটি ইসলামিক না হয়, তাহলে সাধারণ জ্ঞানের ভিত্তিতে উত্তর দেবে এবং কোনো অতিরিক্ত নোট যোগ করার দরকার নেই।

গুরুত্বপূর্ণ:
* তুমি কোনো অবস্থাতেই সরাসরি ফতোয়া জারি করবে না।
* কোনো বিতর্কিত বা ব্যক্তিগত মাসয়ালায় চূড়ান্ত রায় দেবে না।
* ব্যবহারকারীকে ব্যক্তিগত ধর্মীয় দিকনির্দেশনার জন্য যোগ্য আলেম বা মুফতিদের সাথে পরামর্শ করার জন্য উৎসাহিত করবে।

---
ব্যবহারকারীর প্রশ্ন: ${question}
`;
            const response = await fetch(this.API_URL + this.API_KEY, {
              method: "POST",
              headers: { "Content-Type": "application/json" },
              body: JSON.stringify({
                contents: [
                  ...this.conversationHistory,
                  { role: "user", parts: [{ text: islamicPrompt }] }
                ],
              }),
            });
            const data = await response.json();
            if (!response.ok) throw new Error(data.error.message);
            this.isLoading = false;
            this.scrollToBottom();
            let answer = data.candidates[0].content.parts[0].text.replace(/\*\*(.*?)\*\*/g, '$1');
            return answer;
          },
          saveConversation() {
            localStorage.setItem('conversationHistory', JSON.stringify(this.conversationHistory));
          },
          
          openConfirmationModal() {
            this.showConfirmationModal = true;
          },
          
          confirmDelete() {
            this.conversationHistory = [];
            localStorage.removeItem('conversationHistory');
            this.showConfirmationModal = false;
          },
          
          cancelDelete() {
            this.showConfirmationModal = false;
          },
          
          clearConversation() {
            this.openConfirmationModal();
          },
          
          scrollToBottom() {
            window.scrollTo({
              top: document.documentElement.scrollHeight,
              behavior: 'smooth'
            });
          },
          
          startVoiceInput() {
            const SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;
            this.recognition = new SpeechRecognition();
            this.recognition.lang = 'bn-BD';
            this.recognition.onresult = (event) => {
              this.inputText = event.results[0][0].transcript;
              this.sendMessage(this.inputText);
            };
            this.recognition.start();
          },
          
          toggleVoiceOutput() {
            this.isVoiceOutputEnabled = !this.isVoiceOutputEnabled;
          },
          
          toggleSpeech(text, index) {
            if (this.isSpeaking[index]) {
              // পড়া বন্ধ করা
              speechSynthesis.cancel();
              this.isSpeaking[index] = false;
            } else {
              // পড়া শুরু করা
              this.speechInstance = new SpeechSynthesisUtterance(text);
              this.speechInstance.lang = 'bn-BD';
              this.speechInstance.volume = 1.0;
              this.speechInstance.rate = 1.0;
              this.speechInstance.pitch = 1.0;
              this.speechInstance.onend = () => {
                this.isSpeaking[index] = false;
              };
              speechSynthesis.speak(this.speechInstance);
              this.isSpeaking[index] = true;
            }
          },
          
          init() {
            window.addEventListener('resize', () => {
              this.sidebar = window.innerWidth < 768 ? this.sidebar : true;
            });
          }
        }
      }
    </script>
</body>

</html>
